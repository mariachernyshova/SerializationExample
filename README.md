# SerializationExample

**Сериализация** это процесс сохранения состояния объекта в последовательность байт.
**Десериализация** это процесс восстановления объекта из этой последовательности.

Чтобы jvm понимала, что объект класса можно сериализовать, нужно реализовать интерфейс Serializable.
При сериализации объекта сериализуются все объекты, на которые он ссылается в своих переменных экземпляра. Все классы в этой цепочке должны быть Serializable, иначе выбросится исключение.

Для сериализации объекта в Java используется класс ObjectOutputStream. Он содержит метод `writeObject(Object x) throws IOException`, который осуществляет сериализацию объекта и отправляет его в поток выходных данных. Для успешного выполнения сериализации класса должны быть выполнены два условия: 
1) Класс должен реализовывать интерфейс java.io.Serializable.
2) Все поля в классе должны быть сериализуемыми. Если поле не сериализуемо, оно должно быть помечено как промежуточное.
`transient` атрибуты не сериализуются.

Восстановление объекта происходит с помощью метода `readObject` у ObjectInputStream.
Данный метод может прочитать любой объект, поэтому необходимо преобразование к конкретному типу (у меня это Student)

![image](https://github.com/user-attachments/assets/bb4e8eab-b060-40a8-a2de-089fecd98a99)

Пример, когда в классе родителе есть конструктор с параметрами. При десериализации у класса, который не помечен, как Serializable должен быть публичный конструктор без параметров. При десериализации вызывается такой конструктор у классов, нереализующих интерфейс. Так как конструктор пуст, то при десериализации атрибуты приобрели свои дефолтные значения. (у int - 0, у String - null)
![image](https://github.com/user-attachments/assets/9da2506d-2334-407b-a9c7-9c637ab8985f)

В примере ниже добавлен в метод toString() вывод статик атрибута, а также в двух конструкторах класса Person вывод в консоль. Как видно, у несериализуемого класса был вызван конструктор без параметров. 
![image](https://github.com/user-attachments/assets/dafd7d9a-36cf-440a-8aaf-66f208ff8746)
